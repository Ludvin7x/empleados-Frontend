<form
  [formGroup]="empleadoForm"
  (ngSubmit)="onSubmit()"
  class="max-w-2xl mx-auto p-8 bg-white rounded-2xl shadow-lg space-y-8 sm:space-y-10"
  novalidate
>
  <h2 class="text-2xl sm:text-3xl font-extrabold text-gray-900 text-center tracking-tight">
    {{ empleadoId ? 'Editar Empleado' : 'Registrar Empleado' }}
  </h2>

  <!-- Nombre -->
  <div>
    <label for="first_name" class="block text-gray-700 font-semibold mb-2">Nombre</label>
    <input
      id="first_name"
      type="text"
      formControlName="first_name"
      class="w-full rounded-lg border border-gray-300 px-4 py-3 placeholder-gray-400 focus:outline-none focus:ring-4 focus:ring-blue-400 focus:border-blue-500 transition"
      [ngClass]="{
        'border-red-500 focus:ring-red-400 focus:border-red-500': empleadoForm.get('first_name')?.invalid && (empleadoForm.get('first_name')?.touched || empleadoForm.get('first_name')?.dirty)
      }"
      autocomplete="off"
      placeholder="Ingrese el nombre"
      required
    />
    <p *ngIf="empleadoForm.get('first_name')?.errors?.['required'] && (empleadoForm.get('first_name')?.touched || empleadoForm.get('first_name')?.dirty)" class="mt-1 text-sm text-red-600">
      El nombre es requerido.
    </p>
    <p *ngIf="empleadoForm.get('first_name')?.errors?.['minlength']" class="mt-1 text-sm text-red-600">
      El nombre debe tener al menos 2 caracteres.
    </p>
  </div>

  <!-- Apellido -->
  <div>
    <label for="last_name" class="block text-gray-700 font-semibold mb-2">Apellido</label>
    <input
      id="last_name"
      type="text"
      formControlName="last_name"
      class="w-full rounded-lg border border-gray-300 px-4 py-3 placeholder-gray-400 focus:outline-none focus:ring-4 focus:ring-blue-400 focus:border-blue-500 transition"
      [ngClass]="{
        'border-red-500 focus:ring-red-400 focus:border-red-500': empleadoForm.get('last_name')?.invalid && (empleadoForm.get('last_name')?.touched || empleadoForm.get('last_name')?.dirty)
      }"
      autocomplete="off"
      placeholder="Ingrese el apellido"
      required
    />
    <p *ngIf="empleadoForm.get('last_name')?.errors?.['required'] && (empleadoForm.get('last_name')?.touched || empleadoForm.get('last_name')?.dirty)" class="mt-1 text-sm text-red-600">
      El apellido es requerido.
    </p>
    <p *ngIf="empleadoForm.get('last_name')?.errors?.['minlength']" class="mt-1 text-sm text-red-600">
      El apellido debe tener al menos 2 caracteres.
    </p>
  </div>

  <!-- Departamento -->
  <div>
    <label for="department_id" class="block text-gray-700 font-semibold mb-2">Departamento</label>
    <select
      id="department_id"
      formControlName="department_id"
      class="w-full rounded-lg border border-gray-300 bg-white px-4 py-3 focus:outline-none focus:ring-4 focus:ring-blue-400 focus:border-blue-500 transition"
      [ngClass]="{
        'border-red-500 focus:ring-red-400 focus:border-red-500': empleadoForm.get('department_id')?.invalid && (empleadoForm.get('department_id')?.touched || empleadoForm.get('department_id')?.dirty)
      }"
      required
    >
      <option value="" disabled>Seleccione un departamento</option>
      <option *ngFor="let dept of departamentos" [value]="dept.id">
        {{ dept.name }}
      </option>
    </select>
    <p *ngIf="empleadoForm.get('department_id')?.errors?.['required'] && (empleadoForm.get('department_id')?.touched || empleadoForm.get('department_id')?.dirty)" class="mt-1 text-sm text-red-600">
      El departamento es requerido.
    </p>
  </div>

  <!-- Cargo -->
  <div>
    <label for="job_title" class="block text-gray-700 font-semibold mb-2">Cargo</label>
    <input
      id="job_title"
      type="text"
      formControlName="job_title"
      class="w-full rounded-lg border border-gray-300 px-4 py-3 placeholder-gray-400 focus:outline-none focus:ring-4 focus:ring-blue-400 focus:border-blue-500 transition"
      [ngClass]="{
        'border-red-500 focus:ring-red-400 focus:border-red-500': empleadoForm.get('job_title')?.invalid && (empleadoForm.get('job_title')?.touched || empleadoForm.get('job_title')?.dirty)
      }"
      autocomplete="off"
      placeholder="Ingrese el cargo"
      required
    />
    <p *ngIf="empleadoForm.get('job_title')?.errors?.['required'] && (empleadoForm.get('job_title')?.touched || empleadoForm.get('job_title')?.dirty)" class="mt-1 text-sm text-red-600">
      El cargo es requerido.
    </p>
  </div>

  <!-- Fecha de Contrataci贸n -->
  <div>
    <label for="hire_date" class="block text-gray-700 font-semibold mb-2">Fecha de Contrataci贸n</label>
    <input
      id="hire_date"
      type="date"
      formControlName="hire_date"
      class="w-full rounded-lg border border-gray-300 px-4 py-3 focus:outline-none focus:ring-4 focus:ring-blue-400 focus:border-blue-500 transition"
      [ngClass]="{
        'border-red-500 focus:ring-red-400 focus:border-red-500': empleadoForm.get('hire_date')?.invalid && (empleadoForm.get('hire_date')?.touched || empleadoForm.get('hire_date')?.dirty)
      }"
      required
    />
    <p *ngIf="empleadoForm.get('hire_date')?.errors?.['required'] && (empleadoForm.get('hire_date')?.touched || empleadoForm.get('hire_date')?.dirty)" class="mt-1 text-sm text-red-600">
      La fecha de contrataci贸n es requerida.
    </p>
    <p *ngIf="empleadoForm.get('hire_date')?.errors?.['max']" class="mt-1 text-sm text-red-600">
      La fecha no puede ser mayor a hoy.
    </p>
  </div>

  <!-- Bot贸n -->
  <div class="text-center">
    <button
      type="submit"
      class="bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg px-8 py-3 transition shadow-md disabled:opacity-50 disabled:cursor-not-allowed"
      [disabled]="empleadoForm.invalid"
    >
      {{ empleadoId ? 'Actualizar' : 'Guardar' }}
    </button>
  </div>

  <!-- Mensajes -->
  <div *ngIf="successMessage" class="text-green-600 text-center mt-6 font-semibold">
    {{ successMessage }}
  </div>

  <div *ngIf="errorMessage" class="text-red-600 text-center mt-6 font-semibold">
    {{ errorMessage }}
  </div>
</form>